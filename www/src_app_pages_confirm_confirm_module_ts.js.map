{"version":3,"mappings":"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","names":["i0","ResumeComponent","constructor","this","FormatNumber","ngOnInit","checkMessagePromo","reserva","MessagePromocaoVeiculo","indexOf","Periodos","length","messagePromo","pedido","valores","hasOwnProperty","promo","is_promo","message","error","console","getTotalMensal","total","valor_mensal_total","valor_mensal","formatNumber","getBRLCurrency","Number","selectors","SkeletonLoaderComponent","decls","BtnRedirectAccountComponent","router","redirectToAccount","navigate","ctx","TermosComponent","device","isMobile","routes","path","component","titleS","route","shared","gtm","orderService","alertMsg","checkout","checkLoginService","seoService","localStorage","getItem","SubSink","check","setTitle","createLinkForCanonicalURL","addPageGTM","url","user","emailPayer","email","PessoaID","userLogged","loadPageConfigurations","checkCreditAnalysis","defaultMsg","sub","sink","getCreditAnalysis","orderId","subscribe","res","data","msg","title","setCounterLoading","verifyContract","setAlert","status","id","ex","openDialog","tipo","titulo","mensagem","then","dialogRef","urlPath","split","onDemand","isOnDemand","snapshot","params","isOrderDetails","includes","isSeller","checkUserToGetOrder","checkWarning","enableWarning","enableWarningBySelfie","enableWarningByCnh","enableDocuments","PedidoFrotaID","parseInt","getNewContract","success","setLoadingAtivo","ignoreAnalysis","getOrder","enableRefreshStatus","PedidoFrotaStatusID","loadingOrder","icon","afterClosed","setItem","ReservaID","getSellerOrder","selfieUploaded","enableButton","cnhUploaded","ngOnDestroy","removeVehicleDetails","unsubscribe","ConfirmComponent","AlertMessageComponent","ConfirmRoutingModule","RouterModule","ConfirmModule","CommonModule","SharedModule"],"sources":["./src/app/pages/confirm/resume/resume.component.html","./src/app/pages/confirm/resume/resume.component.ts","./src/app/pages/confirm/btn-redirect-account/btn-redirect-account.component.ts","./src/app/pages/confirm/btn-redirect-account/btn-redirect-account.component.html","./src/app/pages/confirm/termos/termos.component.html","./src/app/pages/confirm/termos/termos.component.ts","./src/app/pages/confirm/confirm.component.html","./src/app/pages/confirm/confirm-routing.module.ts","./src/app/pages/confirm/confirm.component.ts","./src/app/pages/confirm/confirm.module.ts"],"sourcesContent":["<div class=\"container\" *ngIf=\"getTotalMensal() !== null\">\n  <div class=\"wrapper\">\n    <div class=\"title\">\n      Valor total\n    </div>\n\n    <div class=\"value\" *ngIf=\"!pedido\">\n      <app-skeleton-loader [simpleText]=\"true\"></app-skeleton-loader>\n    </div>\n\n    <div class=\"value\" *ngIf=\"pedido\">\n      <span class=\"value__primary\">\n        {{ getTotalMensal() }}\n      </span>\n      /\n      <span class=\"value__regular\">mês</span>\n    </div>\n    <div *ngIf=\"checkMessagePromo()\" class=\"observation\">\n      <span class=\"observation__label\">\n        {{ messagePromo }}\n      </span>\n    </div>\n  </div>\n</div>\n","import { Component, Input, OnInit } from '@angular/core';\nimport { SkeletonLoaderComponent } from 'src/app/shared/skeleton-loader/skeleton-loader.component';\nimport { FormatNumber } from 'src/app/util/formatNumber.util';\n\n@Component({\n\tselector: 'app-resume',\n\ttemplateUrl: './resume.component.html',\n\tstyleUrls: ['./resume.component.scss'],\n\tproviders: [SkeletonLoaderComponent]\n})\nexport class ResumeComponent implements OnInit {\n\n\t@Input() pedido: any;\n\t@Input() reserva: any;\n\n\t// Utils\n\tprivate formatNumber: FormatNumber = new FormatNumber();\n\tpublic messagePromo: string;\n\n\tconstructor() {\n\t}\n\n\tngOnInit() {\n\t}\n\n\tcheckMessagePromo() {\n\t\ttry {\n\t\t\tif (typeof this.reserva === 'object' && typeof this.reserva.MessagePromocaoVeiculo !== 'undefined' && this.reserva.MessagePromocaoVeiculo.indexOf(' 0 mês') <= 1 && this.reserva.Periodos.length > 1) {\n\t\t\t\tthis.messagePromo = this.reserva.MessagePromocaoVeiculo;\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tif (typeof this.pedido === 'object' && typeof this.pedido.valores !== 'undefined' && this.pedido.valores.hasOwnProperty('promo') && this.pedido.valores.promo.hasOwnProperty('is_promo') && this.pedido.valores.promo.is_promo) {\n\t\t\t\tthis.messagePromo = this.pedido.valores.promo.message;\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t} catch (error) {\n\t\t\tconsole.error(error)\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tgetTotalMensal() {\n\t\tlet total = null;\n\n\t\ttry {\n\n\t\t\tif (typeof this.reserva === 'object') {\n\n\t\t\t\ttry {\n\n\t\t\t\t\tif (typeof this.reserva.Periodos !== 'undefined' &&\n\t\t\t\t\t\ttypeof this.reserva.Periodos[0] !== 'undefined') {\n\t\t\t\t\t\ttotal = this.reserva ? this.reserva.Periodos[0].valor_mensal_total : null;\n\t\t\t\t\t}\n\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.error('Error 1 - getTotalMensal : ' + error);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t} else if (typeof this.pedido === 'object') {\n\n\t\t\t\ttry {\n\n\t\t\t\t\tif (typeof this.pedido.valores !== 'undefined' &&\n\t\t\t\t\t\tthis.pedido.valores.hasOwnProperty('valor_mensal') &&\n\t\t\t\t\t\tthis.pedido.valores.valor_mensal.hasOwnProperty('valor_mensal_total')) {\n\t\t\t\t\t\ttotal = this.pedido.valores.valor_mensal.valor_mensal_total ?\n\t\t\t\t\t\t\tthis.pedido.valores.valor_mensal.valor_mensal_total : null;\n\t\t\t\t\t}\n\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.error('Error 2 - getTotalMensal : ' + error);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn total ? this.formatNumber.getBRLCurrency(Number(total)) : null;\n\n\t\t} catch (error) {\n\n\t\t\tconsole.error('Error 0 - getTotalMensal : ' + error);\n\t\t\treturn false;\n\n\t\t}\n\n\n\t}\n\n}\n","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-btn-redirect-account',\n  templateUrl: './btn-redirect-account.component.html',\n  styleUrls: ['./btn-redirect-account.component.scss']\n})\nexport class BtnRedirectAccountComponent implements OnInit {\n\n  constructor(\n    private router: Router\n  ) { }\n\n  ngOnInit() { }\n\n  redirectToAccount() {\n    this.router.navigate(['/minha-conta']);\n  }\n}\n","<button type=\"button\" class=\"btn-warning\" (click)=\"redirectToAccount()\">Ir para área do cliente</button>","<div class=\"container m-b-20\" [class.d-block]=\"isMobile\" [class.d-flex]=\"!isMobile && enableButton\">\n  <div class=\"termos-condicoes\" [class.w-70]=\"enableButton\" [class.w-100]=\"isMobile\">\n    <div class=\"condicoes\">\n      Condições Gerais\n    </div>\n    <div class=\"termo\">\n      <a href=\"https://storage.googleapis.com/storage-public-images/zerokm/prod/pdf/minuta-contrato-publico-zerokm.pdf\" target=\"_blank\" rel=\"noopener\">\n        Termo e condições gerais de Locação (pdf)\n      </a>\n    </div>\n  </div>\n  <div *ngIf=\"enableButton\" class=\"d-flex justify-content-end align-items-center p-r-35\" [class.w-30]=\"!isMobile\"\n    [class.w-100]=\"isMobile\">\n    <app-btn-redirect-account></app-btn-redirect-account>\n  </div>\n</div>\n","import { Component, Input, OnInit } from '@angular/core';\nimport { DeviceService } from 'src/app/core/services/device.service';\nimport { BtnRedirectAccountComponent } from '../btn-redirect-account/btn-redirect-account.component';\n\n@Component({\n  selector: 'app-termos',\n  templateUrl: './termos.component.html',\n  styleUrls: ['./termos.component.scss'],\n  providers: [BtnRedirectAccountComponent]\n})\nexport class TermosComponent implements OnInit {\n\n  isMobile: boolean;\n\n  @Input()\n  public enableButton? : boolean = false;\n\n  constructor(private device: DeviceService) { }\n\n  ngOnInit() {\n    this.isMobile = this.device.isMobile();\n  }\n\n}\n","\n\n<div class=\"confirm-banner\" [ngStyle]=\"{'margin-bottom': pedido?.status?.StatusId !== 13 ? '25px' : 'auto'}\">\n  <div class=\"container\">\n    <div class=\"confirm-title\">\n      <span class=\"confirm-title\">\n        {{ user?.razaosocial }}, obrigado por escolher a Movida!\n      </span>\n    </div>\n\n    <div class=\"confirm-subtitle\">\n      <span>\n        Enviaremos todos os dados do pedido no e-mail <b>{{ emailPayer }}</b> e um link para acompanhar o progresso da sua compra.\n      </span>\n    </div>\n\n    <div class=\"card m-t-20\">\n\n      <!-- Status do pedido -->\n      <div class=\"card__status w-100\">\n        <label class=\"title\">Status do Pedido:</label>\n        <label class=\"content\" [style.color]=\"'#F47920'\">\n          <div class=\"status\">\n            <icone-resp-fin class=\"reload\" style=\"margin-right: 8px\" alt=\"\" title=\"{{ pedido?.PessoaID != userLogged && pedido?.status?.StatusId == 5 ? 'Análise de fraude recusada' :  pedido?.status?.StatusDesc }}\"></icone-resp-fin>\n            <span>\n              {{ pedido?.PessoaID != userLogged && pedido?.status?.StatusId == 5 ? \"Análise do Cartão Rejeitada\" :  pedido?.status?.StatusDesc }}\n            </span>\n          </div>\n        </label>\n      </div>\n      <!-- END - Status do pedido -->\n\n      <div class=\"card__reserva\">\n        <label class=\"title\">Pedido Nº:</label>\n        <label class=\"content\">{{ orderId }}</label>\n      </div>\n\n    </div>\n  </div>\n</div>\n\n<!-- Warning -->\n<div class=\"container\" *ngIf=\"pedido?.status?.StatusId === 13\">\n  <app-warning-checkout [minHeight]=\"'50px'\" [fontSize]=\"'14px'\">\n    {{ warningMessage }}\n  </app-warning-checkout>\n</div>\n\n<br>\n\n<!-- Meu Pedido-->\n<app-pedido  [pedido]=\"pedido\" [reserva]=\"reserva\"></app-pedido>\n\n<!-- Resumo -->\n<app-resume [pedido]=\"pedido\" [reserva]=\"reserva\"></app-resume>\n\n<!-- Termos e Condições -->\n<app-termos [enableButton]=\"enableButton\"></app-termos>\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ConfirmComponent } from './confirm.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ConfirmComponent\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class ConfirmRoutingModule { }","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { OrderService } from 'src/app/core/services/order.service';\nimport { MainSharedService } from 'src/app/util/shared.service';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { Title } from '@angular/platform-browser';\nimport { AlertMessageComponent } from 'src/app/shared/alert-message/alert-message.component';\nimport { SubSink } from 'subsink';\nimport { CheckoutService } from 'src/app/core/services/checkout.service';\nimport { CheckLoginService } from 'src/app/core/services/checklogin.service';\nimport { GtmService } from 'src/app/core/services/gtm.service';\nimport { SeoService } from 'src/app/core/services/header/seo.service';\n\n@Component({\n  selector: 'app-confirm',\n  templateUrl: './confirm.component.html',\n  styleUrls: ['./confirm.component.scss'],\n  providers: [AlertMessageComponent]\n})\nexport class ConfirmComponent implements OnInit, OnDestroy {\n\n  public orderId: string;\n  public pedido: any;\n  public reserva: any;\n  public user: any;\n  public emailPayer: string;\n\n  public loadingOrder: boolean = true;\n  public onDemand: boolean;\n  public isOrderDetails: boolean = false;\n  public isSeller: boolean = localStorage.getItem('choosenView') === 'seller';\n  public enableButton: boolean;\n  public enableRefreshStatus: boolean = false;\n  public userLogged: number = 0;\n\n  public enableWarning: boolean = false;\n  public enableWarningByCnh: boolean = false;\n  public enableWarningBySelfie: boolean = false;\n  public warningTitle: string = 'Tudo certo!';\n  public warningMessage: string = 'Agora, você pode acompanhar o status do seu pedido através da área do cliente.';\n\n  private sub = new SubSink();\n\n  constructor(\n    private titleS: Title,\n    private router: Router,\n    private route: ActivatedRoute,\n    private shared: MainSharedService,\n    private gtm: GtmService,\n    private orderService: OrderService,\n    private alertMsg: AlertMessageComponent,\n    private checkout: CheckoutService,\n    private checkLoginService: CheckLoginService,\n    private seoService: SeoService\n  ) { }\n\n  ngOnInit() {\n    this.checkLoginService.check()\n    this.titleS.setTitle('Zero Km - Pedido');\n    this.seoService.createLinkForCanonicalURL();\n    this.gtm.addPageGTM('Pageview ZeroKM', this.router.url, 'Zero Km - Pedido');\n    //Verificar se o pageview relacionado vai ser quando entrar na página de confirm ou somente quando o pagamento for aprovado!\n    this.gtm.addPageGTM('Transação ZeroKM', this.router.url, 'Zero Km - Pedido');\n    this.user = this.shared.user;\n    this.emailPayer = this.shared.user.email;\n    this.shared.user && this.shared.user.PessoaID ? this.userLogged = this.shared.user.PessoaID : false\n    this.loadPageConfigurations();\n  }\n\n  checkCreditAnalysis() {\n    const defaultMsg = 'Não foi possível realizar a análise do seu pedido no momento.';\n\n    this.sub.sink = this.checkout.getCreditAnalysis(this.orderId).subscribe(res => {\n      // Verificação de mensagens de análise de crédito\n      if (res && res.data) {\n        let msg, title = ''\n        switch (res.data) {\n          case 'Aprovado':\n            this.shared.setCounterLoading(false);\n            this.verifyContract();\n            break;\n          case 'Analise Reprovada':\n            this.shared.setCounterLoading(false);\n            title = 'Desculpe!'\n            msg = 'Infelizmente você não passou pela análise de crédito.'\n            this.setAlert(title, msg)\n            break;\n          case 'Em análise':\n            this.shared.setCounterLoading(false);\n            if (this.pedido.status.id === 12) {\n              title = 'Aguarde!'\n              msg = 'Seu pedido está passando por análise de crédito.'\n              this.setAlert(title, msg)\n            }\n            break;\n          case 'Processando pagamento':\n            this.shared.setCounterLoading(false);\n            title = 'Aguarde!'\n            msg = 'Seu pagamento está sendo processado.'\n            this.setAlert(title, msg)\n            break;\n\n          default:\n            this.shared.setCounterLoading(false);\n            title = 'Atenção!'\n            this.setAlert(title, defaultMsg)\n            break;\n        }\n      }\n    }, ex => {\n      this.shared.setCounterLoading(false);\n      this.alertMsg.openDialog({\n        tipo: 'message',\n        titulo: 'Atenção!',\n        mensagem: defaultMsg\n      }, 'message', true);\n      // this.checkUserToGetOrder();\n    });\n  }\n\n  setAlert(title, msg) {\n    this.alertMsg.openDialog({\n      tipo: 'message',\n      titulo: title,\n      mensagem: msg\n    }, 'message', true).then(dialogRef => {});\n  }\n\n  loadPageConfigurations() {\n    const urlPath = this.router.url.split('?')[0];\n    this.onDemand = this.shared.isOnDemand;\n    this.orderId = this.route.snapshot.params.orderId;\n    this.isOrderDetails = urlPath.includes('minha-conta/pedido') || urlPath.includes('assinatura/sucesso') ;\n    if (!this.isOrderDetails && !this.isSeller) {\n      this.checkCreditAnalysis();\n      return;\n    }\n    this.checkUserToGetOrder();\n  }\n\n  checkWarning() {\n    this.enableWarning = this.enableWarningBySelfie && this.enableWarningByCnh;\n  }\n\n  get enableDocuments() {\n    return this.pedido && this.pedido.status && this.pedido.status.id !== 1;\n  }\n\n  verifyContract() {\n    const data = {\n      \"PedidoFrotaID\": parseInt(this.orderId)\n    };\n    this.sub.sink = this.checkout.getNewContract(data).subscribe(res => {\n      if (res && res.success) {\n        this.shared.setCounterLoading(false);\n        this.shared.setLoadingAtivo(false);\n        this.checkUserToGetOrder();\n        return;\n      }\n      this.shared.setCounterLoading(false);\n      this.checkUserToGetOrder();\n    }, ex => {\n      this.shared.setCounterLoading(false);\n      this.alertMsg.openDialog({\n        tipo: 'message',\n        titulo: 'Atenção!',\n        mensagem: 'Não foi possível realizar a análise do seu pedido no momento.'\n      }, 'message', true);\n      // this.checkUserToGetOrder();\n    });\n  }\n\n  checkUserToGetOrder(ignoreAnalysis = false) {\n    // this.isSeller ? this.getSellerOrder() : this.getOrder(ignoreAnalysis);\n    this.isSeller ? this.getOrder(true) : this.getOrder(ignoreAnalysis);\n  }\n\n  getOrder(ignoreAnalysis = false) {\n    this.sub.sink = this.orderService.getOrder(this.orderId).subscribe(data => {\n      // data.pedido && data.pedido.PedidoFrotaStatusID !== (1 || 3 || 5 || 7 || 9|| 10 || 12) ? this.enableRefreshStatus = true : this.enableRefreshStatus = false\n      if (!data) {\n        this.shared.setCounterLoading(false);\n        this.alertMsg.openDialog({\n          tipo: 'message',\n          titulo: 'Algo deu errado!',\n          mensagem: 'Não foi possível carregar as informações do seu pedido. Tente novamente mais tarde.'\n        }, 'message', true);\n        this.router.navigate(['/minha-conta']);\n        return void (0);\n      }\n      data.pedido && data.pedido.PedidoFrotaStatusID !== (3 || 5 || 7 || 9|| 10) ? this.enableRefreshStatus = true : this.enableRefreshStatus = false\n      this.pedido = data.pedido;\n      this.reserva = data.reserva;\n      this.shared.setCounterLoading(false);\n      this.shared.setLoadingAtivo(false);\n      this.loadingOrder = false;\n      if (data.pedido.PedidoFrotaStatusID === 3 && !localStorage.getItem('approvedStatus')) {\n        this.alertMsg.openDialog({\n          icon: 'ok-icone.svg',\n          tipo: 'message',\n          titulo: 'Aprovado!',\n          mensagem: 'Agora é só esperar um pouquinho que nosso time entrará em contato para agendar a entrega do seu veículo.'\n        }, 'message', true).then(dialogRef => {\n          this.sub.sink = dialogRef.afterClosed().subscribe(() => {\n            localStorage.setItem('approvedStatus', '1-'+data.pedido.ReservaID)\n          })\n        })\n      }\n      if (!(!this.reserva || (!this.reserva.length && this.reserva.length === 0)) && !ignoreAnalysis && this.pedido.PedidoFrotaStatusID !== (3 || 5 || 7 || 9 || 10)) {\n      // if (!(!this.reserva || (!this.reserva.length && this.reserva.length === 0)) && !ignoreAnalysis && this.pedido.PedidoFrotaStatusID !== (1 || 3 || 5 || 7 || 9 || 10 ||12)) {\n          this.checkCreditAnalysis();\n      }\n    }, ex => {\n      this.shared.setCounterLoading(false);\n      this.alertMsg.openDialog({\n        tipo: 'message',\n        titulo: 'Algo deu errado!',\n        mensagem: 'Não foi possível carregar as informações do seu pedido. Tente novamente mais tarde.'\n      }, 'message', true);\n      this.router.navigate(['/minha-conta']);\n    });\n  }\n\n  getSellerOrder() {\n    this.sub.sink = this.orderService.getSellerOrder(this.orderId).subscribe(data => {\n      this.pedido = data;\n      this.shared.setCounterLoading(false);\n    }, ex => {\n      this.shared.setCounterLoading(false);\n      this.alertMsg.openDialog({\n        tipo: 'message',\n        titulo: 'Algo deu errado!',\n        mensagem: 'Não foi possível carregar as informações do seu pedido. Tente novamente mais tarde.'\n      }, 'message', true);\n      this.router.navigate(['/minha-conta']);\n    });\n  }\n\n  selfieUploaded() {\n    this.enableWarningBySelfie = true;\n    this.enableButton = true;\n    this.checkWarning();\n  }\n\n  cnhUploaded() {\n    this.enableWarningByCnh = true;\n    this.enableButton = true;\n    this.checkWarning();\n  }\n\n  ngOnDestroy() {\n    this.shared.removeVehicleDetails();\n    this.sub.unsubscribe();\n  }\n}\n","//modules\nimport { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ConfirmRoutingModule } from './confirm-routing.module';\nimport { SharedModule } from 'src/app/shared/shared.module';\n\n//components\nimport { ConfirmComponent } from './confirm.component';\nimport { TermosComponent } from './termos/termos.component';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    ConfirmRoutingModule,\n    SharedModule,\n  ],\n  declarations: [\n    ConfirmComponent,\n    TermosComponent,\n  ],\n  schemas: [\n    CUSTOM_ELEMENTS_SCHEMA\n  ],\n})\nexport class ConfirmModule { }\n"],"sourceRoot":"webpack:///","file":"src_app_pages_confirm_confirm_module_ts.js"}