{"version":3,"mappings":"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","names":["CancelComponent","constructor","this","ngOnInit","selectors","i0","TimerSandComponent","ApprovedComponent","ShoppingCartComponent","routes","path","component","titleS","router","route","shared","orderService","alertMsg","checkout","checkLoginService","seoService","localStorage","getItem","id","label","link","SubSink","orderId","snapshot","params","check","setTitle","createLinkForCanonicalURL","user","emailPayer","loadPageConfigurations","PessoaID","userLogged","checkCreditAnalysis","sub","sink","getCreditAnalysis","subscribe","res","data","msg","title","setCounterLoading","verifyContract","setAlert","pedido","status","ex","openDialog","tipo","titulo","mensagem","then","dialogRef","afterClosed","checkUserToGetOrder","onDemand","isOnDemand","urlPath","url","split","isOrderDetails","includes","isSeller","checkWarning","enableWarning","enableWarningBySelfie","enableWarningByCnh","enableDocuments","PedidoFrotaID","parseInt","getNewContract","success","setLoadingAtivo","ignoreAnalysis","getOrder","navigate","enableRefreshStatus","PedidoFrotaStatusID","reserva","loadingOrder","icon","setItem","ReservaID","getSellerOrder","selfieUploaded","enableButton","cnhUploaded","ngOnDestroy","removeVehicleDetails","unsubscribe","OrderDetailsComponent","AlertMessageComponent","SkeletonLoaderComponent","decls","OrderDetailsRoutingModule","RouterModule","OrderDetailsModule","CommonModule","SharedModule"],"sources":["./src/app/icons/cancel.component.ts","./src/app/icons/timer-sand.component.ts","./src/app/icons/approved.component.ts","./src/app/icons/shopping-cart.component.ts","./src/app/pages/order/order-details.component.html","./src/app/pages/order/order-details-routing.module.ts","./src/app/pages/order/order-details.component.ts","./src/app/pages/order/order-details.module.ts"],"sourcesContent":["import { Component, OnInit, Input } from '@angular/core';\n\n@Component({\n  selector: 'icone-cancel',\n  template: `<svg xmlns=\"http://www.w3.org/2000/svg\" [attr.alt]=\"alt\" [attr.title]=\"title\" width=\"17.998\" height=\"17.999\" viewBox=\"0 0 17.998 17.999\"><path class=\"a\" d=\"M-22277.2,209a9.009,9.009,0,0,1-9-9,9.009,9.009,0,0,1,9-9,9.01,9.01,0,0,1,9,9,8.942,8.942,0,0,1-2.637,6.364A8.94,8.94,0,0,1-22277.2,209Zm.078-7.214,2.4,2.36,1.867-1.756-2.471-2.377,2.471-2.427-1.7-1.779-2.568,2.472-2.572-2.471-1.7,1.778,2.465,2.427-2.465,2.377,1.873,1.756Z\" transform=\"translate(22286.201 -190.999)\"/></svg>`,\n  styles: ['.a{fill:red;}']\n})\nexport class CancelComponent implements OnInit {\n\n  @Input() alt : String = \"\";\n  @Input() title : String = \"\";\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n}\n","import { Component, OnInit, Input } from '@angular/core';\n\n@Component({\n  selector: 'icone-timer-sand',\n  template: `<svg xmlns=\"http://www.w3.org/2000/svg\" [attr.alt]=\"alt\" [attr.title]=\"title\" width=\"10.8\" height=\"18\" viewBox=\"0 0 10.8 18\"><path class=\"a\" d=\"M99.15,33.05h10.8v5.4h0l-3.6,3.6,3.6,3.6h0v5.4H99.15v-5.4h0l3.6-3.6-3.6-3.6h0v-5.4m9,13.05-3.6-3.6-3.6,3.6v3.15h7.2V46.1m-3.6-4.5,3.6-3.6V34.85h-7.2V38l3.6,3.6m-1.8-4.95h3.6v.675l-1.8,1.8-1.8-1.8Z\" transform=\"translate(-99.15 -33.05)\"/></svg>`,\n  styles: ['.a{fill:#f97d00;}']\n})\nexport class TimerSandComponent implements OnInit {\n\n  @Input() alt : String = \"\";\n  @Input() title : String = \"\";\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n}\n","import { Component, OnInit, Input } from '@angular/core';\n\n@Component({\n  selector: 'icone-approved',\n  template: `<svg xmlns=\"http://www.w3.org/2000/svg\" [attr.alt]=\"alt\" [attr.title]=\"title\" width=\"18\" height=\"18\" viewBox=\"0 0 18 18\"><circle class=\"a\" cx=\"9\" cy=\"9\" r=\"9\"/><path class=\"b\" d=\"M-4271.075-325.307l-6.544,7.043-4.111-4.535,1.674-1.752,2.437,2.594,4.877-5.258Z\" transform=\"translate(4285.377 331.792)\"/></svg>`,\n  styles: ['.a{fill:#2e8145;}.b{fill:#fff;}']\n})\nexport class ApprovedComponent implements OnInit {\n\n  @Input() alt : String = \"\";\n  @Input() title : String = \"\";\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n}\n","import { Component, OnInit, Input } from '@angular/core';\n\n@Component({\n  selector: 'icone-shopping-cart',\n  template: `<svg xmlns=\"http://www.w3.org/2000/svg\" [attr.alt]=\"alt\" [attr.title]=\"title\" width=\"18\" height=\"18\" viewBox=\"0 0 18 18\"><g transform=\"translate(-1007 -2315)\"><path class=\"a\" d=\"M6.4,16.4a1.8,1.8,0,1,0,1.8,1.8A1.8,1.8,0,0,0,6.4,16.4ZM1,2V3.8H2.8l3.24,6.831-1.215,2.2A1.74,1.74,0,0,0,4.6,13.7a1.805,1.805,0,0,0,1.8,1.8H17.2V13.7H6.778a.223.223,0,0,1-.225-.225l.027-.108L7.39,11.9h6.7a1.791,1.791,0,0,0,1.575-.927l3.222-5.841A.879.879,0,0,0,19,4.7a.9.9,0,0,0-.9-.9H4.789L3.943,2H1ZM15.4,16.4a1.8,1.8,0,1,0,1.8,1.8A1.8,1.8,0,0,0,15.4,16.4Z\" transform=\"translate(1006 2313)\"/><path class=\"b\" d=\"M4185.858-16083.563l2.314,4.818h5.7l2.879-4.818Z\" transform=\"translate(-3174.177 18402)\"/></g></svg>`,\n  styles: ['.a{fill:#f97d00;}.b{fill:#fff;}']\n})\nexport class ShoppingCartComponent implements OnInit {\n\n  @Input() alt : String = \"\";\n  @Input() title : String = \"\";\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n}\n","<div class=\"container\">\n  <app-breadcrumb [steps]=\"steps\" class=\"steps-header\"></app-breadcrumb>\n</div>\n\n<div class=\"confirm-banner\">\n  <div class=\"container\">\n    <div class=\"confirm-title\">\n      <span class=\"confirm-title\">\n        Detalhes do pedido\n      </span>\n    </div>\n\n    <div class=\"card m-t-20\">\n\n      <div class=\"card__reserva\">\n        <label class=\"title\">Pedido Nº:</label>\n        <label class=\"content\">{{ orderId }}</label>\n      </div>\n\n      <div class=\"card__status w-100\">\n        <label class=\"title\">Status do Pedido:</label>\n        <app-skeleton-loader *ngIf=\"loadingOrder\" class=\"content skeleton-status\" [simpleText]=\"true\"></app-skeleton-loader>\n        <label *ngIf=\"!loadingOrder\"  class=\"content\" [style.color]=\"'#F47920'\">\n          <div class=\"status\"\n            [ngClass]=\"{'status-1': [1, 2, 12].includes(pedido?.status?.StatusId), 'status-3': [3, 10].includes(pedido?.status?.StatusId), 'status-5': [5, 7].includes(pedido?.status?.StatusId)}\">\n\n            <icone-cancel *ngIf=\"[5, 7].includes(pedido?.status?.StatusId)\" class=\"order-icon\" alt=\"\" title=\"Status do Pedido\"></icone-cancel>\n\n            <icone-timer-sand *ngIf=\"[1, 2, 12].includes(pedido?.status?.StatusId)\" class=\"order-icon\" alt=\"\" title=\"Status do Pedido\"></icone-timer-sand>\n\n            <icone-approved *ngIf=\"[3, 10].includes(pedido?.status?.StatusId)\" class=\"order-icon\" alt=\"\" title=\"Status do Pedido\"></icone-approved>\n\n            <icone-shopping-cart *ngIf=\"[11].includes(pedido?.status?.StatusId)\" class=\"order-icon\" alt=\"\" title=\"Status do Pedido\"></icone-shopping-cart>\n\n            <span>\n              {{ pedido?.PessoaID != userLogged && pedido?.status?.StatusId == 5 ? \"Análise do Cartão Rejeitada\" :\n              pedido?.status?.StatusDesc }}\n            </span>\n          </div>\n        </label>\n      </div>\n\n    </div>\n  </div>\n</div>\n\n<!-- Warning -->\n<div class=\"container\" *ngIf=\"pedido?.status?.StatusId === 13\">\n  <app-warning-checkout [minHeight]=\"'50px'\" [fontSize]=\"'14px'\">\n    {{ warningMessage }}\n  </app-warning-checkout>\n</div>\n\n<br>\n\n<!-- Meu Pedido-->\n<app-pedido [respFinanceiro]=\"true\" [pedido]=\"pedido\" [reserva]=\"reserva\"></app-pedido>\n\n<!-- Resumo -->\n<app-resume-payer *ngIf=\"reserva?.Periodos\" [pedido]=\"pedido\" [reserva]=\"reserva\" [isDetails]=\"true\"></app-resume-payer>\n\n<!-- Termos e Condições -->\n<app-termos-payer [enableButton]=\"enableButton\"></app-termos-payer>\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { OrderDetailsComponent } from './order-details.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: OrderDetailsComponent\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class OrderDetailsRoutingModule { }","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { OrderService } from 'src/app/core/services/order.service';\nimport { MainSharedService } from 'src/app/util/shared.service';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { Title } from '@angular/platform-browser';\nimport { AlertMessageComponent } from 'src/app/shared/alert-message/alert-message.component';\nimport { SubSink } from 'subsink';\nimport { CheckoutService } from 'src/app/core/services/checkout.service';\nimport { CheckLoginService } from 'src/app/core/services/checklogin.service';\nimport { SeoService } from 'src/app/core/services/header/seo.service';\nimport { IBreadcrumb } from 'src/app/shared/breadcrumb/breadcrumb.component';\nimport { SkeletonLoaderComponent } from 'src/app/shared/skeleton-loader/skeleton-loader.component';\n\n@Component({\n  selector: 'app-order-details',\n  templateUrl: './order-details.component.html',\n  styleUrls: ['./order-details.component.scss'],\n  providers: [AlertMessageComponent, SkeletonLoaderComponent]\n})\nexport class OrderDetailsComponent implements OnInit, OnDestroy {\n\n  public orderId: string;\n  public pedido: any;\n  public reserva: any;\n  public user: any;\n  public emailPayer: string;\n\n  public loadingOrder: boolean = true;\n  public onDemand: boolean;\n  public isOrderDetails: boolean = false;\n  public isSeller: boolean = localStorage.getItem('choosenView') === 'seller';\n  public enableButton: boolean;\n  public enableRefreshStatus: boolean = false;\n  public userLogged: number = 0;\n\n  public enableWarning: boolean = false;\n  public enableWarningByCnh: boolean = false;\n  public enableWarningBySelfie: boolean = false;\n  public warningTitle: string = 'Tudo certo!';\n  public warningMessage: string = 'Recebemos o seu pedido, porém precisamos que o responsável financeiro faça o cadastro na Movida e efetue o pagamento para concluir a compra do seu veículo. O Responsável Financeiro tem um prazo de 1 hora para concluir o pedido.';\n\n  public steps: IBreadcrumb[] = [\n    {\n      id: '0',\n      label: 'Home',\n      link: '/'\n    },\n    {\n      id: '1',\n      label: 'Meu portal',\n      link: '/minha-conta'\n    },\n    {\n      id: '2',\n      label: 'Meus pedidos',\n      link: '/minha-conta'\n    },\n    {\n      id: '3',\n      label: 'Detalhes do pedido'\n    }\n  ];\n\n  private sub = new SubSink();\n\n  constructor(\n    private titleS: Title,\n    private router: Router,\n    private route: ActivatedRoute,\n    private shared: MainSharedService,\n    private orderService: OrderService,\n    private alertMsg: AlertMessageComponent,\n    private checkout: CheckoutService,\n    private checkLoginService: CheckLoginService,\n    private seoService: SeoService\n  ) { }\n\n  ngOnInit() {\n    this.orderId = this.route.snapshot.params.orderId;\n    this.checkLoginService.check()\n    this.titleS.setTitle('Zero Km - Pedido ' + this.orderId);\n    this.seoService.createLinkForCanonicalURL();\n    this.user = this.shared.user;\n    this.emailPayer = this.shared.emailPayer;\n    this.loadPageConfigurations();\n    this.shared.user && this.shared.user.PessoaID ? this.userLogged = this.shared.user.PessoaID : false\n  }\n\n  checkCreditAnalysis() {\n    let msg = 'Não foi possível realizar a análise do seu pedido no momento.';\n\n    this.sub.sink = this.checkout.getCreditAnalysis(this.orderId).subscribe(res => {\n      // Verificação de mensagens de análise de crédito\n      if (res && res.data) {\n        let msg, title = ''\n        switch (res.data) {\n          case 'Aprovado':\n            this.shared.setCounterLoading(false);\n            this.verifyContract();\n            break;\n          case 'Analise Reprovada':\n            this.shared.setCounterLoading(false);\n            title = 'Desculpe!'\n            msg = 'Infelizmente você não passou pela análise de crédito.'\n            this.setAlert(title, msg)\n            break;\n          case 'Em análise':\n            if (this.pedido.status.id === 12) {\n              this.shared.setCounterLoading(false);\n              title = 'Aguarde!'\n              msg = 'Seu pedido está passando por análise de crédito.'\n              this.setAlert(title, msg)\n            }\n            break;\n          case 'Processando pagamento':\n            this.shared.setCounterLoading(false);\n            title = 'Aguarde!'\n            msg = 'Seu pagamento está sendo processado.'\n            this.setAlert(title, msg)\n            break;\n\n          default:\n            this.shared.setCounterLoading(false);\n            title = 'Atenção!'\n            msg = 'Não foi possível realizar a análise do seu pedido no momento.'\n            this.setAlert(title, msg)\n            break;\n        }\n      }\n    }, ex => {\n      this.shared.setCounterLoading(false);\n      this.alertMsg.openDialog({\n        tipo: 'message',\n        titulo: 'Atenção!',\n        mensagem: msg\n      }, 'message', true);\n      // this.checkUserToGetOrder();\n    });\n  }\n\n  setAlert(title, msg) {\n    this.alertMsg.openDialog({\n      tipo: 'message',\n      titulo: title,\n      mensagem: msg\n    }, 'message', true).then(dialogRef => {\n      this.sub.sink = dialogRef.afterClosed().subscribe(() => {\n        this.checkUserToGetOrder(true);\n      });\n    });\n  }\n\n  loadPageConfigurations() {\n    this.onDemand = this.shared.isOnDemand;\n    this.orderId = this.route.snapshot.params.orderId;\n    const urlPath = this.router.url.split('?')[0];\n    this.isOrderDetails = urlPath.includes('minha-conta/pedido/novo') || urlPath.includes('minha-conta/meus-pedidos');\n    if (!this.isOrderDetails && !this.isSeller) {\n      this.checkCreditAnalysis();\n      return;\n    }\n    this.checkUserToGetOrder();\n  }\n\n  checkWarning() {\n    this.enableWarning = this.enableWarningBySelfie && this.enableWarningByCnh;\n  }\n\n  get enableDocuments() {\n    return this.pedido && this.pedido.status && this.pedido.status.id !== 1;\n  }\n\n  verifyContract() {\n    let data = {\n      \"PedidoFrotaID\": parseInt(this.orderId)\n    };\n    this.sub.sink = this.checkout.getNewContract(data).subscribe(res => {\n      if (res && res.success) {\n        this.shared.setCounterLoading(false);\n        this.shared.setLoadingAtivo(false);\n        this.checkUserToGetOrder();\n        return;\n      }\n      this.shared.setCounterLoading(false);\n      this.checkUserToGetOrder();\n    }, ex => {\n      this.shared.setCounterLoading(false);\n      this.alertMsg.openDialog({\n        tipo: 'message',\n        titulo: 'Atenção!',\n        mensagem: 'Não foi possível realizar a análise do seu pedido no momento.'\n      }, 'message', true);\n      // this.checkUserToGetOrder();\n    });\n  }\n\n  checkUserToGetOrder(ignoreAnalysis = false) {\n    // this.isSeller ? this.getSellerOrder() : this.getOrder(ignoreAnalysis);\n    this.isSeller ? this.getOrder(true) : this.getOrder(ignoreAnalysis);\n  }\n\n  getOrder(ignoreAnalysis = false) {\n    this.sub.sink = this.orderService.getOrder(this.orderId).subscribe(data => {\n      // data.pedido && data.pedido.PedidoFrotaStatusID !== (1 || 3 || 5 || 7 || 9|| 10 || 12) ? this.enableRefreshStatus = true : this.enableRefreshStatus = false\n      if (!data || !data.pedido || !data.pedido.PedidoFrotaID) {\n        this.shared.setCounterLoading(false);\n        this.alertMsg.openDialog({\n          tipo: 'message',\n          titulo: 'Algo deu errado!',\n          mensagem: 'Não foi possível carregar as informações do seu pedido. Tente novamente mais tarde.'\n        }, 'message', true).then(dialogRef => {\n          this.sub.sink = dialogRef.afterClosed().subscribe(() => {\n            if (data && (!data.pedido || !data.pedido.PedidoFrotaID)) {\n              this.router.navigate(['/minha-conta']);\n            }\n          });\n        });\n\n        if (!data) {\n          this.router.navigate(['/minha-conta']);\n        }\n        return void (0);\n      }\n      // tslint:disable-next-line:max-line-length\n      data.pedido && data.pedido.PedidoFrotaStatusID !== (3 || 5 || 7 || 9 || 10) ? this.enableRefreshStatus = true : this.enableRefreshStatus = false;\n      this.pedido = data.pedido;\n      this.reserva = data.reserva;\n      this.shared.setCounterLoading(false);\n      this.shared.setLoadingAtivo(false);\n      this.loadingOrder = false;\n      if (data.pedido.PedidoFrotaStatusID === 3 && !localStorage.getItem('approvedStatus')) {\n        this.alertMsg.openDialog({\n          icon: 'ok-icone.svg',\n          tipo: 'message',\n          titulo: 'Aprovado!',\n          mensagem: 'Agora é só esperar um pouquinho que nosso time entrará em contato para agendar a entrega do seu veículo.'\n        }, 'message', true).then(dialogRef => {\n          this.sub.sink = dialogRef.afterClosed().subscribe(() => {\n            localStorage.setItem('approvedStatus', '1-' + data.pedido.ReservaID)\n          })\n        })\n      }\n      if (!(!this.reserva || (!this.reserva.length && this.reserva.length === 0)) && !ignoreAnalysis && this.pedido.PedidoFrotaStatusID !== (3 || 5 || 7 || 9 || 10)) {\n        // if (!(!this.reserva || (!this.reserva.length && this.reserva.length === 0)) && !ignoreAnalysis && this.pedido.PedidoFrotaStatusID !== (1 || 3 || 5 || 7 || 9 || 10 ||12)) {\n        // this.checkCreditAnalysis();\n      }\n    }, ex => {\n      this.shared.setCounterLoading(false);\n      this.alertMsg.openDialog({\n        tipo: 'message',\n        titulo: 'Algo deu errado!',\n        mensagem: 'Não foi possível carregar as informações do seu pedido. Tente novamente mais tarde.'\n      }, 'message', true);\n      this.router.navigate(['/minha-conta']);\n    });\n  }\n\n  getSellerOrder() {\n    this.sub.sink = this.orderService.getSellerOrder(this.orderId).subscribe(data => {\n      this.pedido = data;\n      this.shared.setCounterLoading(false);\n    }, ex => {\n      this.shared.setCounterLoading(false);\n      this.alertMsg.openDialog({\n        tipo: 'message',\n        titulo: 'Algo deu errado!',\n        mensagem: 'Não foi possível carregar as informações do seu pedido. Tente novamente mais tarde.'\n      }, 'message', true);\n      this.router.navigate(['/minha-conta']);\n    });\n  }\n\n  selfieUploaded() {\n    this.enableWarningBySelfie = true;\n    this.enableButton = true;\n    this.checkWarning();\n  }\n\n  cnhUploaded() {\n    this.enableWarningByCnh = true;\n    this.enableButton = true;\n    this.checkWarning();\n  }\n\n  ngOnDestroy() {\n    this.shared.removeVehicleDetails();\n    this.sub.unsubscribe();\n  }\n}\n","//modules\nimport { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { OrderDetailsRoutingModule } from './order-details-routing.module';\nimport { SharedModule } from 'src/app/shared/shared.module';\n\n//components\nimport { OrderDetailsComponent } from './order-details.component';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    OrderDetailsRoutingModule,\n    SharedModule,\n  ],\n  declarations: [\n    OrderDetailsComponent,\n  ],\n  schemas: [\n    CUSTOM_ELEMENTS_SCHEMA\n  ],\n})\nexport class OrderDetailsModule { }\n"],"sourceRoot":"webpack:///","file":"src_app_pages_order_order-details_module_ts.js"}