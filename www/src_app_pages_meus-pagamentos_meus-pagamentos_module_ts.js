"use strict";(self.webpackChunkzero_km=self.webpackChunkzero_km||[]).push([["src_app_pages_meus-pagamentos_meus-pagamentos_module_ts"],{4052:(P,s,o)=>{o.r(s),o.d(s,{MeusPagamentosModule:()=>y});var c=o(6362),p=o(2816),d=o(5353),l=o(6908),t=o(3184),g=o(1909),m=o(6228),h=o(8784),x=o(419);function f(n,r){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",0),t.\u0275\u0275elementStart(1,"movida-my-payments",6),t.\u0275\u0275listener("switched-contract",function(i){return t.\u0275\u0275restoreView(e),t.\u0275\u0275nextContext().onSwitchContract(i)}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("contracts",e.contracts)("message",e.message)("regularizeLink",e.regularizeLink)("countPendentes",e.countPendentes)}}const u=[{path:"",component:(()=>{class n{constructor(e,a,i){this.shared=e,this.alertMsg=a,this.http=i,this.contracts=new Array,this.countPendentes=0,this.isLoading=!0,this.steps=[{id:"0",label:"Home",link:"/"},{id:"1",label:"Meu portal",link:"/portal"},{id:"2",label:"Meus pagamentos"}],this.regularizeLink="portal/meus-pagamentos/regularize/"}ngAfterViewInit(){this.loadContracts()}loadContracts(){this.shared.setLoadingAtivo(!0),this.http.get(`${d.LY}/payments`).subscribe(e=>{if(!e||!e.success)return;this.message=e.message;const a=Array.isArray(e.data)?e.data:[e.data];this.contracts=a,this.shared.setLoadingAtivo(!1),this.isLoading=!1,this.contracts.length>0&&(this.verifyShowFlag(),this.contracts[0].Pendente&&this.showOverdueMonthlyFeeMsg())})}showOverdueMonthlyFeeMsg(){this.countPendentes=0,this.contracts[0].Mensalidades.forEach(a=>{"Pendente"==a.Status&&this.countPendentes++}),this.alertMsg.openDialog({icon:"attention.svg",tipo:"warning",titulo:"Pagamento pendente!",mensagem:"Regularize o pagamento e evite a interrup\xe7\xe3o do servi\xe7o. Em caso de d\xfavida entre em contato com a nossa central atrav\xe9s do telefone 0800 771 8400."},"message",!0)}verifyShowFlag(){console.log("verifyShowFlag"),this.contracts[0].Mensalidades.forEach(e=>{e.Show=!0,"Pago"==e.Status&&(e.Show=this.verifyDataCobranca(e.DataCobranca))})}verifyDataCobranca(e){const a=l(),i=l(e,"DD/MM/YYYY");return!(a.diff(i,"day")>30)}onSwitchContract(e){this.countPendentes=0,e.detail&&e.detail.contract&&(e.detail.contract.Pendente&&this.showOverdueMonthlyFeeMsg(),this.verifyShowFlag())}}return n.\u0275fac=function(e){return new(e||n)(t.\u0275\u0275directiveInject(g.b),t.\u0275\u0275directiveInject(m.z),t.\u0275\u0275directiveInject(h.eN))},n.\u0275cmp=t.\u0275\u0275defineComponent({type:n,selectors:[["app-meus-pagamentos"]],inputs:{finishedRegister:"finishedRegister"},decls:9,vars:2,consts:[[1,"container"],[1,"steps-header",3,"steps"],[1,"payments-header"],[1,"title"],[1,"single-line"],["class","container",4,"ngIf"],[3,"contracts","message","regularizeLink","countPendentes","switched-contract"]],template:function(e,a){1&e&&(t.\u0275\u0275elementStart(0,"div",0),t.\u0275\u0275element(1,"app-breadcrumb",1),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(2,"div",2),t.\u0275\u0275elementStart(3,"div",0),t.\u0275\u0275elementStart(4,"p",3),t.\u0275\u0275text(5,"Meus pagamentos"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(6,"div",0),t.\u0275\u0275element(7,"div",4),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(8,f,2,4,"div",5),t.\u0275\u0275elementEnd()),2&e&&(t.\u0275\u0275advance(1),t.\u0275\u0275property("steps",a.steps),t.\u0275\u0275advance(7),t.\u0275\u0275property("ngIf",!a.isLoading))},directives:[x.L,c.O5],styles:[".payments-header[_ngcontent-%COMP%]{justify-content:center;background-color:#fff;margin-bottom:65px;margin-top:-20px}@media (min-width: 960px){.container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between;padding-top:32px}}@media only screen and (max-width: 960px){.container[_ngcontent-%COMP%]{display:block;flex-direction:row;align-items:center;justify-content:space-between;padding-top:32px}}.title[_ngcontent-%COMP%]{color:#f97d00;font-size:24px}.menus-container[_ngcontent-%COMP%]{width:100%;justify-content:space-between;flex-direction:row;align-items:center;padding-top:32px}.single-line[_ngcontent-%COMP%]{width:100%;border:1px solid #DCDCDC;margin-top:-25px}.arrow-select[_ngcontent-%COMP%]{color:#f47a38!important}.search-payments[_ngcontent-%COMP%]{top:290px;left:888px;width:350px;font-family:Roboto;height:40px;padding-left:20px;border:1px solid var(--unnamed-color-dcdcdc);background:#FFFFFF 0% 0% no-repeat padding-box;font: 300 14px/21px Roboto;border:1px solid #DCDCDC;border-radius:4px;letter-spacing:var(--unnamed-character-spacing-0);color:var(--unnamed-color-606060);text-align:left;letter-spacing:0px;color:#606060;opacity:1}.search-payments[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{top:302px;left:148px;width:123px;height:16px;padding-left:20px;padding-right:40px;text-align:left;font: 300 14px/24px Roboto;letter-spacing:0px;color:#606060;opacity:1}.search-payments[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{left:553px;width:214px;height:16px;letter-spacing:0px;color:#606060;opacity:1;text-align:left;padding:20px}.search-payments[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{left:933px;height:16px;border-color:#f47a38;margin-left:12px;margin-top:20px 0px 0px 12px;padding:20px;letter-spacing:var(--unnamed-character-spacing-0);color:var(--unnamed-color-606060);text-align:left;font: 300 14px/21px Roboto;letter-spacing:0px;color:#606060;opacity:1}.button-search[_ngcontent-%COMP%]{top:302px;left:528px;width:15px;height:15px;font-size:16px;color:#606060;opacity:1}.select-search[_ngcontent-%COMP%]{height:16px;top:302px;left:148px;width:123px;color:#606060;border-color:#606060}.table-payments[_ngcontent-%COMP%]{top:371px;left:128px;width:1110px;height:878px;border:1px solid #F2F2F2;border-radius:5px;opacity:1}.table-header[_ngcontent-%COMP%]{height:49px;font-size:16px;background:#F2F2F2 0% 0% no-repeat padding-box;border-radius:5px 5px 0 0;border:0px;opacity:1}.table-header[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]{color:#58595b;font-family:Roboto;font-weight:700}.bottom-container[_ngcontent-%COMP%]{justify-content:unset}.content-table[_ngcontent-%COMP%]{top:447px;left:158px;height:16px;font:var(--unnamed-font-style-normal) normal 300 14px/16px var(--unnamed-font-family-roboto);letter-spacing:var(--unnamed-character-spacing-0);color:var(--unnamed-color-58595b);text-align:left;font: 300 14px/16px Roboto;letter-spacing:0px;color:#58595b;opacity:1}.content-table[_ngcontent-%COMP%]   .data-cobranca[_ngcontent-%COMP%]{left:327px;width:73px}.content-table[_ngcontent-%COMP%]   .periodo[_ngcontent-%COMP%]{left:520px;width:161px}.content-table[_ngcontent-%COMP%]   .cartao[_ngcontent-%COMP%]{left:1063px;width:144px}.img-header[_ngcontent-%COMP%]{margin-right:12px;margin-top:-5px}.footer[_ngcontent-%COMP%]{top:1301px;left:1001px;width:42px;height:15px;font:var(--unnamed-font-style-normal) normal 300 13px/24px var(--unnamed-font-family-roboto);letter-spacing:var(--unnamed-character-spacing-0);color:var(--unnamed-color-999999);text-align:left;font: 300 13px/24px Roboto;letter-spacing:0px;color:#999;opacity:1}"]}),n})()}];let M=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=t.\u0275\u0275defineInjector({imports:[[p.Bz.forChild(u)],p.Bz]}),n})();var C=o(4466);let y=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=t.\u0275\u0275defineInjector({imports:[[c.ez,C.m,M]]}),n})()}}]);
//# sourceMappingURL=src_app_pages_meus-pagamentos_meus-pagamentos_module_ts.js.map