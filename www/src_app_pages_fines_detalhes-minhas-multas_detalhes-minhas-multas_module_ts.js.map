{"version":3,"mappings":"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","names":["i0","ctx_r6","ctx_r8","routes","path","component","constructor","route","sanitizer","userService","shared","alertMsg","downloadPdfService","this","id","label","link","ngOnInit","multaId","snapshot","params","loadFines","setCounterLoading","getFinesInfo","subscribe","result","fine","data","filter","item","downloadMulta","multaBase","getFinesBase64File","base64String","file","getLinkPdf","then","fileUrl","downloadFileLink","bypassSecurityTrustUrl","toString","e","ex","showNotFileToDownloadMsg","openDialog","icon","tipo","titulo","mensagem","DetalhesMinhasMultasComponent","selectors","DetalhesMinhasMultasRoutingModule","RouterModule","DetalhesMinhasMultasModule","CommonModule","SharedModule"],"sources":["./src/app/pages/fines/detalhes-minhas-multas/detalhes-minhas-multas.component.html","./src/app/pages/fines/detalhes-minhas-multas/detalhes-minhas-multas-routing.module.ts","./src/app/pages/fines/detalhes-minhas-multas/detalhes-minhas-multas.component.ts","./src/app/pages/fines/detalhes-minhas-multas/detalhes-minhas-multas.module.ts"],"sourcesContent":["<div class=\"container first-container\">\n  <app-breadcrumb [steps]=\"steps\" class=\"steps-header\"></app-breadcrumb>\n</div>\n<div class=\"fines-header\">\n  <div class=\"container\">\n    <p class=\"title-default\">Detalhes da infração</p>\n    <a *ngIf=downloadFileLink [attr.href]=\"downloadFileLink\" target=\"_blank\">\n      <button class=\"web\">\n        <div class=\"button-download\">\n          <img class=\"icon-download\" src=\"assets/img/icons/button-19337.svg\">\n          <p class=\"title-download\">Baixar</p> \n        </div>\n      </button>\n    </a>\n    <button *ngIf=!downloadFileLink (click)=\"showNotFileToDownloadMsg()\" class=\"web\">\n      <div class=\"button-download\">\n        <img class=\"icon-download\" src=\"assets/img/icons/button-19337.svg\">\n        <p class=\"title-download\">Baixar</p>\n      </div>\n    </button>\n  </div>\n\n  <div class=\"container\">\n    <div class=\"single-line\"> </div>\n  </div>\n\n  <div class=\"container\">\n    <div class=\"content-wrapper\">\n\n      <div class=\"detalhes\">\n        <div class=\"row-fines\">\n          <div class=\"col col-sm-12 col-md-12 col-lg-4 detalhes-code\">\n            <p class=\"data-infracao\">Código da Infração</p>\n            <p class=\"num-code\">{{fine.multaId}}</p>\n          </div>\n          <div class=\"vertical\"></div>\n          <div class=\"col col-sm-12 col-md-12 col-lg-4 detalhes-data\">\n              <p class=\"data-infracao\">Data e hora da infração</p>\n              <p class=\"num-code\">{{fine.dataInfracao}}</p>\n          </div>\n          <div class=\"vertical\"></div>\n          <div class=\"col col-sm-12 col-md-12 col-lg-4 detalhes-ait\">\n              <p class=\"data-infracao\">Nº AIT</p>\n              <p class=\"num-code\">{{fine.autoInfracao}} </p>\n          </div>\n        </div>\n      </div>\n\n      <hr style=\"width: 95%\">\n\n      <!-- Layout Web -->\n      <div class=\"web\">\n        <div class=\"veiculo\">\n          <div class=\"border-veiculo\">\n            <p class=\"title-veiculo\">Veículo</p>\n          </div>\n          <div class=\"row-fines\">\n            <div class=\"col-sm-2 col-md-1 col-lg-1\">\n              <img class=\"icon-l\" src=\"assets/img/icons/veiculo-19492.svg\">\n            </div>\n            <div class=\"col-sm-8 col-md-8 col-lg-8\">\n              <p class=\"title-card\">Modelo</p>\n            </div>\n            <div class=\"col col-sm-2 col-md-1 col-lg-1\">\n              <img class=\"icon-r\" src=\"assets/img/icons/placa-19491.svg\">\n            </div>\n            <div class=\"col col-sm-8 col-md-2 col-lg-2\">\n              <p class=\"title-card\">Placa</p>\n            </div>\n          </div>\n\n          <div class=\"row-fines\">\n            <div class=\"col-9\">\n              <p class=\"description-card\">{{fine.versao}}</p>\n            </div>\n            <div class=\"col-3\">\n              <p class=\"description-card\">{{fine.placa}}</p>\n            </div>\n          </div>\n\n        </div>\n\n        <hr style=\"width: 95%\">\n\n        <hr style=\"width: 95%\">\n\n        <div class=\"veiculo\">\n          <div class=\"border-veiculo\">\n            <p class=\"title-veiculo\">Infração</p>\n          </div>\n\n          <div class=\"row\">\n            <div class=\"col-1\">\n              <img class=\"icon-l\" src=\"assets/img/icons/alerta-19476.svg\">\n            </div>\n            <div class=\"col-8\">\n              <p class=\"title-card\">Descrição</p>\n            </div>\n            <div class=\"col-1\">\n              <img class=\"icon-r\" src=\"assets/img/icons/dollar.svg\">\n            </div>\n            <div class=\"col-2\">\n              <p class=\"title-card\">Valor</p>\n            </div>\n          </div>\n\n          <div class=\"row\">\n            <div class=\"col-9\">\n              <p class=\"description-card\">{{fine.descricao}}</p>\n            </div>\n            <div class=\"col-3\">\n              <p class=\"description-card\">R$ {{fine.statusId == 2 ? fine.valorPago : fine.valorCobrado}}</p>\n            </div>\n          </div>\n\n        </div>\n\n        <hr style=\"width: 95%\">\n\n\n        <div *ngIf=\"fine.nro2\">\n        <div class=\"veiculo\">\n          <div class=\"border-veiculo\">\n            <p class=\"title-veiculo\">Forma de pagamento</p>\n          </div>\n\n          <div class=\"row\">\n            <div class=\"col-1\">\n              <img class=\"card-credit-icon\" src='assets/img/icons/order/card-brands/{{fine.bandeiraId}}.svg'>\n            </div>\n            <div class=\"col-8\">\n              <p class=\"card-credit-title\">Cartão de crédito</p>\n              <p class=\"card-credit-description\">{{fine.nro2}}</p>\n            </div>\n          </div>\n\n        </div>\n        </div>\n      </div>\n       <!-- END Layout Web -->\n\n      <!-- Layout Movile -->\n      <div class=\"mobile\">\n        <div class=\"veiculo\">\n          <div class=\"border-veiculo\">\n            <p class=\"title-veiculo\">Veículo</p>\n          </div>\n          <div class=\"row\">\n              <img class=\"icon-r\" src=\"assets/img/icons/veiculo-19492.svg\">\n              <div class=\"col\">\n                <p class=\"title-card\">Modelo</p>\n                <p class=\"description-card-bottom\">{{fine.versao}}</p>\n              </div>\n          </div>\n\n          <div class=\"line\"></div>\n\n          <div class=\"row\">\n            <img class=\"icon-r\" src=\"assets/img/icons/placa-19491.svg\">\n            <div class=\"col\">\n                <p class=\"title-card-bottom\">Placa</p>\n                <p class=\"description-card-bottom\">{{fine.placa}}</p>\n            </div>\n          </div>\n        </div>\n\n        <hr style=\"width: 95%\">\n\n        <hr style=\"width: 95%\">\n\n        <div class=\"veiculo\">\n          <div class=\"border-veiculo\">\n            <p class=\"title-veiculo\">Infração</p>\n          </div>\n          <div class=\"row\">\n            <img class=\"icon-l\" src=\"assets/img/icons/alerta-19476.svg\">\n            <p class=\"title-card\">Descrição</p>\n            <p class=\"description-card\">{{fine.descricao}}</p>\n          </div>\n\n          <div class=\"line\"></div>\n\n          <div class=\"row\">\n              <img class=\"icon-r\" src=\"assets/img/icons/dollar.svg\">\n              <div class=\"col\">\n                <p class=\"title-card-bottom\">Valor</p>\n                <p class=\"description-card-bottom\">R$ {{fine.statusId == 2 ? fine.valorPago : fine.valorCobrado}}</p>\n              </div>\n          </div>\n        </div>\n\n        <hr style=\"width: 95%\">\n\n        <div *ngIf=\"fine.nro2\">\n        <div class=\"veiculo-bottom\">\n          <div class=\"border-veiculo\">\n            <p class=\"title-veiculo\">Forma de pagamento</p>\n          </div>\n          <div class=\"row\">\n            <img class=\"card-credit-icon\" src=\"assets/img/icons/visa_card.svg\">\n            <div class=\"col\">\n              <p class=\"card-credit-title\">Cartão de crédito</p>\n              <p class=\"card-credit-description\">{{fine.nro2}}</p>\n            </div>\n          </div>\n        </div>\n      </div>\n      </div>\n       <!-- END Layout Movile -->\n    </div>\n\n    <a *ngIf=downloadFileLink [attr.href]=\"downloadFileLink\" target=\"_blank\">\n      <button class=\"mobile\">\n        <div class=\"button-download\">\n          <img class=\"icon-download\" src=\"assets/img/icons/button-19337.svg\">\n          <p class=\"title-download\">Baixar</p> \n        </div>\n      </button>\n    </a>\n    <button *ngIf=!downloadFileLink (click)=\"showNotFileToDownloadMsg()\" class=\"mobile\">\n      <div class=\"button-download\">\n        <img class=\"icon-download\" src=\"assets/img/icons/button-19337.svg\">\n        <p class=\"title-download\">Baixar</p> \n      </div>\n    </button>\n  </div>\n\n</div>\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { DetalhesMinhasMultasComponent } from './detalhes-minhas-multas.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: DetalhesMinhasMultasComponent\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class DetalhesMinhasMultasRoutingModule { }","import { Component, OnInit } from '@angular/core';\nimport { IBreadcrumb } from 'src/app/shared/breadcrumb/breadcrumb.component';\nimport { ActivatedRoute } from '@angular/router';\nimport { DomSanitizer, SafeUrl } from '@angular/platform-browser';\nimport { UserService } from 'src/app/core/services/user.service';\nimport { MainSharedService } from 'src/app/util/shared.service';\nimport { AlertMessageComponent } from 'src/app/shared/alert-message/alert-message.component';\nimport { DownloadPdfService } from 'projects/zkm-components/src/lib/components/download-pdf/download-pdf.service';\n\n@Component({\n  selector: 'app-detalhes-minhas-multas',\n  templateUrl: './detalhes-minhas-multas.component.html',\n  styleUrls: ['./detalhes-minhas-multas.component.scss']\n})\nexport class DetalhesMinhasMultasComponent implements OnInit {\n\n  public downloadFileLink: SafeUrl = null;\n  public multaId: string;\n  public fine: any = [];\n  public downloadMulta: string;\n  public steps: IBreadcrumb[] = [\n    {\n      id: '0',\n      label: 'Home',\n      link: '/'\n    },\n    {\n      id: '1',\n      label: 'Meu portal',\n      link: '/portal'\n    },\n    {\n      id: '2',\n      label: 'Multas',\n      link: '/portal/multas'\n    },\n    {\n      id: '3',\n      label: 'Detalhes da infração'\n    }\n  ];\n\n  constructor(\n    private route: ActivatedRoute,\n    public sanitizer: DomSanitizer,\n    public userService: UserService,\n    private shared: MainSharedService,\n    public alertMsg: AlertMessageComponent,\n    public downloadPdfService: DownloadPdfService\n  ) { }\n\n  ngOnInit() {\n    this.multaId = this.route.snapshot.params.multaId;\n    this.loadFines();\n  }\n\n  loadFines() {\n    this.shared.setCounterLoading(true);\n\n    this.userService.getFinesInfo(this.multaId).subscribe((result) =>{\n      this.fine = result.data.filter(item => {\n        return item.multaId == this.multaId;\n      });\n      this.fine = this.fine[0];\n      this.downloadMulta = `data:application/pdf;base64,${this.fine.multaBase}`;\n\n      this.userService.getFinesBase64File(this.fine.multaId).subscribe(result => {\n        const base64String = result.data && result.data.file ? result.data.file : null;\n        \n        if (!base64String) {\n          this.shared.setCounterLoading(false);\n          return;\n        }\n\n        const fileName =  `multa_${this.fine.multaId}.pdf`;\n        this.downloadPdfService.getLinkPdf(base64String, fileName)\n          .then(fileUrl => {\n            this.downloadFileLink = this.sanitizer.bypassSecurityTrustUrl(fileUrl.toString());\n          })\n          .then(() => this.shared.setCounterLoading(false))\n      }, e => this.shared.setCounterLoading(false));\n    }, ex => {\n      this.shared.setCounterLoading(false);\n    });\n  }\n\n  showNotFileToDownloadMsg(): void {\n    const msg = 'Ainda não há arquivos disponíveis para essa multa.';\n    this.alertMsg.openDialog({\n        icon: 'attention.svg',\n        tipo: 'warning',\n        titulo: '',\n        mensagem: msg\n    }, 'message', true);\n  }\n}\n","//modules\nimport { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { SharedModule } from 'src/app/shared/shared.module';\nimport { DetalhesMinhasMultasRoutingModule } from './detalhes-minhas-multas-routing.module';\n\n//components\nimport { DetalhesMinhasMultasComponent } from './detalhes-minhas-multas.component';\n\n@NgModule({\n  imports: [\n    DetalhesMinhasMultasRoutingModule,\n    CommonModule,\n    SharedModule,\n  ],\n  declarations: [\n    DetalhesMinhasMultasComponent,\n  ],\n  schemas: [\n    CUSTOM_ELEMENTS_SCHEMA\n  ],\n})\nexport class DetalhesMinhasMultasModule { }\n"],"sourceRoot":"webpack:///","file":"src_app_pages_fines_detalhes-minhas-multas_detalhes-minhas-multas_module_ts.js"}