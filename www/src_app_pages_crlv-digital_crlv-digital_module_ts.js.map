{"version":3,"mappings":"4QAKA,MAAMA,EAAiB,CACrB,CACEC,KAAM,GACNC,UCaJ,MAAM,QAMJC,YACUC,EACAC,EACAC,GAFAC,cACAA,gBACAA,YANHA,eAAkB,GAUlBA,WAAuB,CAC5B,CACEC,GAAI,IACJC,MAAO,OACPC,KAAM,KAER,CACEF,GAAI,IACJC,MAAO,aACPC,KAAM,WAER,CACEF,GAAI,IACJC,MAAO,iBAIXE,WACEJ,KAAKK,gBAGCA,gBAENL,KAAKH,OAAOS,iBAAgB,GAE5BN,KAAKD,KAAKQ,IAAS,GAAGC,6BAAkCC,UAAUC,KAE3DA,IAAaA,EAASC,UAE3BX,KAAKY,UAAYF,EAASG,KAG1BC,WAAW,KACSC,SAASC,cAAc,uBAC/BC,aAAa,YAAYC,KAAKC,UAAWnB,KAAKY,aACvD,IAEHZ,KAAKoB,QAAUV,EAASU,QACxBpB,KAAKH,OAAOS,iBAAgB,KAE3Be,IACDrB,KAAKH,OAAOS,iBAAgB,GAC5BgB,QAAQC,IAAI,OAAQF,GACpBrB,KAAKoB,QAAUC,EAAGG,MAAMJ,QAExBpB,KAAKF,SAAS2B,WAAW,CACvBC,KAAM,UACNC,OAAQ,mBACRC,SAJUP,EAAGG,MAAMJ,SAKlB,WAAW,mDA9DPS,GAAoBC,4JAApBD,EAAoBE,iRCrBjCD,sCACEA,4CACFA,2BACAA,sCACEA,sCACEA,oCAAiBA,qCAAYA,2BAC/BA,2BAEAA,sCACEA,iCACFA,2BAEEA,sCACEA,iDAKJA,2BACFA,kCAlBkBA,iEAaVA,yEAAuB,0lHDOlBD,GAAb,KDLO,IAAMG,EAAb,MAAM,sDAAOA,0GAHF,CAACC,cAAsBxC,IACtBwC,QAECD,GAAb,iBGMO,IAAME,EAAb,MAAM,sDAAOA,0GAZF,CACPC,KACAC,IACAJ,MASSE,GAAb","names":["routes","path","component","constructor","shared","alertMsg","http","this","id","label","link","ngOnInit","loadContracts","setLoadingAtivo","get","API_BE_V3","subscribe","response","success","contracts","data","setTimeout","document","querySelector","setAttribute","JSON","stringify","message","ex","console","log","error","openDialog","tipo","titulo","mensagem","CRLVDigitalComponent","i0","selectors","CRLVDigitalRoutingModule","RouterModule","CRLVDigitalModule","CommonModule","SharedModule"],"sources":["./src/app/pages/crlv-digital/crlv-digital-routing.module.ts","./src/app/pages/crlv-digital/crlv-digital.component.ts","./src/app/pages/crlv-digital/crlv-digital.component.html","./src/app/pages/crlv-digital/crlv-digital.module.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { CRLVDigitalComponent } from './crlv-digital.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CRLVDigitalComponent\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class CRLVDigitalRoutingModule { }\n","/**\n * @author\n * Movida S.A\n * @link\n * https://www.movida.com.br/\n * @license\n * Copyright Movida S.A All Rights Reserved.\n */\n//import { DOCUMENT } from '@angular/common';\nimport { HttpClient } from '@angular/common/http';\nimport { Component, Input, OnInit } from '@angular/core';\nimport { API_BE_V3 } from 'src/app/core/api/app.api';\nimport { AlertMessageComponent } from 'src/app/shared/alert-message/alert-message.component';\nimport { IBreadcrumb } from 'src/app/shared/breadcrumb/breadcrumb.component';\nimport { MainSharedService } from 'src/app/util/shared.service';\n\n@Component({\n  selector: 'app-crlv-digital',\n  templateUrl: './crlv-digital.component.html',\n  styleUrls: ['./crlv-digital.component.scss']\n})\nexport class CRLVDigitalComponent implements OnInit {\n\n  @Input() finishedRegister: true;\n  public contracts: any  = \"\";\n  public message: string;\n\n  constructor(\n    private shared: MainSharedService,\n    private alertMsg: AlertMessageComponent,\n    private http: HttpClient,\n   // @Inject(DOCUMENT) private document\n  ) { }\n\n  public steps: IBreadcrumb[] = [\n    {\n      id: '0',\n      label: 'Home',\n      link: '/'\n    },\n    {\n      id: '1',\n      label: 'Meu portal',\n      link: '/portal'\n    },\n    {\n      id: '2',\n      label: 'CRLV Digital'\n    }\n  ];\n\n  ngOnInit() {\n    this.loadContracts();\n  }\n\n  private loadContracts(): void {\n\n    this.shared.setLoadingAtivo(true);\n\n    this.http.get<any>(`${API_BE_V3}/orders/customer/CRLV`).subscribe(response => {      \n\n      if (!response || !response.success) return;    \n\n      this.contracts = response.data;\n\n      // TODO vÃª como melhorar essa parte\n      setTimeout(() => {\n        const component = document.querySelector('movida-crlv-digital');\n        component.setAttribute('contracts',JSON.stringify( this.contracts));      \n      }, 10)\n\n      this.message = response.message;\n      this.shared.setLoadingAtivo(false);\n\n    }, ex => {\n      this.shared.setLoadingAtivo(false);\n      console.log('ex: ', ex);\n      this.message = ex.error.message;\n      const msg = ex.error.message;\n      this.alertMsg.openDialog({\n        tipo: 'message',\n        titulo: 'Algo deu errado!',\n        mensagem: msg\n      }, 'message', true);\n    });\n\n  }\n\n}\n","<div class=\"container\">\n  <app-breadcrumb [steps]=\"steps\" class=\"steps-header\"></app-breadcrumb>\n</div>\n<div class=\"payments-header\">\n  <div class=\"container\">\n    <p class=\"title\">CRLV Digital</p>\n  </div>\n\n  <div class=\"container\">\n    <div class=\"single-line\"> </div>\n  </div>\n\n    <div class=\"container\">\n      <movida-crlv-digital \n        [contracts]=\"contracts\"\n        [contractNumbers]=\"\"\n        [message]=\"message\"\n      ></movida-crlv-digital>\n  </div>\n</div>\n","//modules\nimport { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { CRLVDigitalRoutingModule } from './crlv-digital-routing.module';\nimport { SharedModule } from 'src/app/shared/shared.module';\n\n//components\nimport { CRLVDigitalComponent } from './crlv-digital.component';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    SharedModule,\n    CRLVDigitalRoutingModule\n  ],\n  declarations: [\n    CRLVDigitalComponent,\n  ],\n  schemas: [\n    CUSTOM_ELEMENTS_SCHEMA\n  ],\n})\nexport class CRLVDigitalModule { }\n"],"sourceRoot":"webpack:///","file":"src_app_pages_crlv-digital_crlv-digital_module_ts.js"}