"use strict";(self.webpackChunkzero_km=self.webpackChunkzero_km||[]).push([["src_app_pages_seller_seller-link_seller-link_module_ts"],{4018:(p,m,r)=>{r.d(m,{v:()=>u});var i=r(6362),c=r(3184);let u=(()=>{class e{constructor(l){this.document=l}createLinkForCanonicalURL(){this.document.querySelectorAll('[rel="canonical"]')[0].setAttribute("href",this.document.URL)}}return e.\u0275fac=function(l){return new(l||e)(c.\u0275\u0275inject(i.K0))},e.\u0275prov=c.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},5259:(p,m,r)=>{r.r(m),r.d(m,{SellerLinkModule:()=>M});var i=r(2816),c=r(6228),u=r(1375),e=r(3184),h=r(1909),l=r(7461),f=r(3430),v=r(2501),k=r(4018);const L=[{path:"",component:(()=>{class t{constructor(n,o,a,d,g,S,y,P){this.router=n,this.route=o,this.alertMsg=a,this.shared=d,this.sellerS=g,this.gtm=S,this.checkLoginService=y,this.seoService=P,this.triggerAlert=!0,this.copying=!1}ngOnInit(){this.checkLoginService.check(),this.seoService.createLinkForCanonicalURL(),this.gtm.addPageGTM("Pageview ZeroKM",this.router.url,"Zero Km - Link Vendedor"),this.token=this.route.snapshot.params.token,this.createLink()}createLink(){this.shared.setLoadingAtivo(!0);try{this.sellerS.recoverSellerLink(this.token).subscribe(n=>{if(""!==n.data){const o=window.location.hostname,a=JSON.parse(n.data),d=JSON.parse(u.y.decrypter(a));this.sellerLink=`https://${o}/${this.shared.user.VUsername?`em/${this.shared.user.VUsername}/`:""}assinatura/detalhes/${d.veiculo.nome}/${d.veiculo.fipe}?linkVendedor=${this.token}`,this.shared.setLoadingAtivo(!1)}else this.showErrorLink()})}catch(n){this.sellerLink="",this.alertMsg.openDialog({tipo:"message",titulo:"Algo deu errado!",mensagem:"N\xe3o foi poss\xedvel exibir o link gerado. Tente novamente"},"message",!0)}}showErrorLink(){this.triggerAlert&&(this.shared.setLoadingAtivo(!1),this.triggerAlert=!1,this.alertMsg.openDialog({tipo:"redirect",titulo:"Ops! Algo est\xe1 errado.",mensagem:"O link que voc\xea gerou expirou. Por favor, crie um novo link e compartilhe com o cliente."},"message",!0).then(o=>{o.afterClosed().subscribe(()=>{this.router.navigate(["/"])})}))}copyLink(n){this.copying=!0,n.select(),document.execCommand("copy"),n.setSelectionRange(0,0),setTimeout(()=>{this.copying=!1},500)}}return t.\u0275fac=function(n){return new(n||t)(e.\u0275\u0275directiveInject(i.F0),e.\u0275\u0275directiveInject(i.gz),e.\u0275\u0275directiveInject(c.z),e.\u0275\u0275directiveInject(h.b),e.\u0275\u0275directiveInject(l.n),e.\u0275\u0275directiveInject(f.b),e.\u0275\u0275directiveInject(v.I),e.\u0275\u0275directiveInject(k.v))},t.\u0275cmp=e.\u0275\u0275defineComponent({type:t,selectors:[["app-seller-link"]],features:[e.\u0275\u0275ProvidersFeature([c.z])],decls:13,vars:7,consts:[[1,"page-bg","search-bar-spacer"],[1,"container"],[1,"central-frame"],["for","seller-link"],[1,"seller"],[1,"seller__link"],["id","seller-link","type","text","readonly","",3,"value"],["sellerLinkInput",""],[1,"seller__btn"],[1,"primary-button",3,"click"]],template:function(n,o){if(1&n){const a=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275element(1,"div",0),e.\u0275\u0275elementStart(2,"div",1),e.\u0275\u0275elementStart(3,"div",2),e.\u0275\u0275elementStart(4,"label",3),e.\u0275\u0275text(5,"Link gerado para compartilhamento"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"div",4),e.\u0275\u0275elementStart(7,"div",5),e.\u0275\u0275element(8,"input",6,7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"div",8),e.\u0275\u0275elementStart(11,"button",9),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(a);const g=e.\u0275\u0275reference(9);return o.copyLink(g)}),e.\u0275\u0275text(12,"Copiar"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()}2&n&&(e.\u0275\u0275styleProp("cursor",o.copying?"progress":"default"),e.\u0275\u0275advance(8),e.\u0275\u0275styleProp("border-color",o.copying?"#f47920":"#dcdcdc"),e.\u0275\u0275property("value",o.sellerLink?o.sellerLink:""),e.\u0275\u0275advance(3),e.\u0275\u0275styleProp("cursor",o.copying?"progress":"pointer"))},styles:[".page-bg[_ngcontent-%COMP%]{height:300px;background-color:#f4f4f4}.container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center}.container[_ngcontent-%COMP%]   .central-frame[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;width:500px;height:250px;margin-top:-125px;margin-bottom:175px;border-radius:3px;border:1px solid #dcdcdc;background-color:#fff}.container[_ngcontent-%COMP%]   .central-frame[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:24px;font-weight:500}.container[_ngcontent-%COMP%]   .central-frame[_ngcontent-%COMP%]   .seller[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;padding:0 30px}.container[_ngcontent-%COMP%]   .central-frame[_ngcontent-%COMP%]   .seller__link[_ngcontent-%COMP%]{width:100%}.container[_ngcontent-%COMP%]   .central-frame[_ngcontent-%COMP%]   .seller__link[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;height:40px;padding:10px;font-size:.875em;color:#58595b;border-radius:3px;border:1px solid #dcdcdc}.container[_ngcontent-%COMP%]   .central-frame[_ngcontent-%COMP%]   .seller__btn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{text-align:center;height:40px;width:200px;margin-bottom:0;font-size:1em;font-weight:400}"]}),t})()}];let C=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=e.\u0275\u0275defineInjector({imports:[[i.Bz.forChild(L)],i.Bz]}),t})(),M=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=e.\u0275\u0275defineInjector({imports:[[C]]}),t})()}}]);
//# sourceMappingURL=src_app_pages_seller_seller-link_seller-link_module_ts.js.map