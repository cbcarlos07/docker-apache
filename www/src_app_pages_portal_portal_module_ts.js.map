{"version":3,"mappings":"iPAKA,MAAMA,EAAiB,CACrB,CACEC,KAAM,GACNC,UCaJ,MAAM,QAaJC,YACSC,EACAC,EAECC,GAHDC,mBACAA,mBAECA,cAfHA,gBAAkB,GAClBA,YAAiB,EACjBA,kBAAuB,EACvBA,sBAA2B,GAC3BA,iBAAmB,GACnBA,sBAA2B,EAC3BA,iBAAsB,GACtBA,kBAAuB,GAEdA,oBAAiBC,eAS1BD,WAAuB,CAC5B,CACEE,GAAI,IACJC,MAAO,OACPC,KAAM,KAER,CACEF,GAAI,IACJC,MAAO,eAIXE,WACEL,KAAKM,aACLN,KAAKO,gBAGPD,aACEN,KAAKQ,aAAc,EACnBR,KAAKS,WAAaT,KAAKH,YAAYa,YAAYC,UAAWC,IACxDZ,KAAKa,OAASD,EAAOE,KAAKC,MACtBH,EAAOE,KAAKE,mBACdhB,KAAKiB,aAAeL,EAAOE,KAAKE,iBAAiBA,iBACjDhB,KAAKkB,iBAAmBN,EAAOE,KAAKE,iBAAiBG,gBAEvDnB,KAAKQ,aAAc,GAClBY,IACDpB,KAAKQ,aAAc,IAIvBD,gBACEP,KAAKqB,YAAcrB,KAAKH,YAAYU,gBAAgBI,UAAWC,IAC7DZ,KAAKsB,iBAAmBV,EACV,GAAVA,GACFZ,KAAKuB,YAAc,wBACnBvB,KAAKwB,aAAe,QAEpBxB,KAAKuB,YAAc,oBACnBvB,KAAKwB,aAAe,WAK1BC,mBACEzB,KAAK0B,YACL1B,KAAKD,OAAO4B,SAAS,CAAC,iBAGxBC,uBACE5B,KAAK0B,YACL1B,KAAKD,OAAO4B,SAAS,CAAC,4BAGxBE,oBACE7B,KAAK0B,YAGPA,YACE1B,KAAKF,YAAYgC,WAAWC,KAAK,kDA/ExBC,GAAeC,4JAAfD,EAAeE,g2CCrB5BD,sCACEA,4CACFA,2BACAA,sCACEA,sCACEA,oCAAiBA,mCAAUA,2BAC7BA,2BAEAA,sCACEA,iCACFA,2BAEAA,sCACEA,4CAIAA,6CAIAA,6CAIFA,2BAEAA,uCAEEA,6CAIEA,8CAIFA,yDAKFA,2BACFA,kCA1CkBA,iEAakEA,6FAC9EA,kEAAiCA,+FAsBsDA,qFACvFA,iEAAgCA,mEAChCA,4FAD2FA,u+FDjBpFD,GAAb,KDLO,IAAMG,EAAb,MAAM,sDAAOA,0GAHF,CAACC,cAAsB3C,IACtB2C,QAECD,GAAb,GGIaE,EAAb,MAAM,sDAAOA,0GAXF,CACPF,EACAG,QASSD,GAAb","names":["routes","path","component","constructor","userService","menuService","router","this","environment","id","label","link","ngOnInit","loadPoints","verifyAccount","showLoading","pointsInfo","getPoints","subscribe","result","points","data","saldo","pontos_expirando","expirePoints","expirePointsDate","data_expiracao","ex","accountInfo","finishedRegister","warningText","warningColor","redidectToOrders","closeMenu","navigate","redirectToMyPayments","redidectToAccount","changeMenu","emit","PortalComponent","i0","selectors","PortalRoutingModule","RouterModule","PortalModule","SharedModule"],"sources":["./src/app/pages/portal/portal-routing.module.ts","./src/app/pages/portal/portal.component.ts","./src/app/pages/portal/portal.component.html","./src/app/pages/portal/portal.module.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { PortalComponent } from './portal.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: PortalComponent\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class PortalRoutingModule { }","/**\n * @author\n * Movida S.A\n * @link \n * https://www.movida.com.br/\n * @license\n * Copyright Movida S.A All Rights Reserved.\n */\nimport { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { MenuService } from 'src/app/core/services/header/menu.service';\nimport { UserService } from 'src/app/core/services/user.service';\nimport { IBreadcrumb } from 'src/app/shared/breadcrumb/breadcrumb.component';\n//import { MainSharedService } from 'src/app/util/shared.service';\nimport { environment } from 'src/environments/environment';\n\n@Component({\n  selector: 'app-portal',\n  templateUrl: './portal.component.html',\n  styleUrls: ['./portal.component.scss']\n})\nexport class PortalComponent implements OnInit {\n\n  public pointsInfo: any = [];\n  public points: number = 0;\n  public expirePoints: number = 0;\n  public expirePointsDate: string = '';\n  public accountInfo: any = [];\n  public finishedRegister: number = 0;\n  public warningText: string = '';\n  public warningColor: string = '';\n  public showLoading: boolean;\n  public readonly SITEMOVIDA_URL = environment.siteMovida;\n\n  constructor(\n    public userService: UserService,\n    public menuService: MenuService,\n    //private shared: MainSharedService,\n    private router: Router,\n  ) { }\n\n  public steps: IBreadcrumb[] = [\n    {\n      id: '0',\n      label: 'Home',\n      link: '/'\n    },\n    {\n      id: '1',\n      label: 'Meu portal'\n    }\n  ];\n\n  ngOnInit() {\n    this.loadPoints();\n    this.verifyAccount();\n  }\n\n  loadPoints() {\n    this.showLoading = true;\n    this.pointsInfo = this.userService.getPoints().subscribe((result) => {\n      this.points = result.data.saldo;\n      if (result.data.pontos_expirando) {\n        this.expirePoints = result.data.pontos_expirando.pontos_expirando;\n        this.expirePointsDate = result.data.pontos_expirando.data_expiracao;        \n      }\n      this.showLoading = false;\n    }, ex => { \n      this.showLoading = false;\n    });\n  }\n\n  verifyAccount() {\n    this.accountInfo = this.userService.verifyAccount().subscribe((result) => {\n      this.finishedRegister = result;\n      if (result == 0) {\n        this.warningText = \"Complete seu cadastro\";\n        this.warningColor = \"red\";\n      } else {\n        this.warningText = \"Cadastro completo\";\n        this.warningColor = \"green\";\n      }\n    });\n  }\n\n  redidectToOrders() {\n    this.closeMenu();\n    this.router.navigate(['/minha-conta']);\n  }\n\n  redirectToMyPayments() {\n    this.closeMenu();\n    this.router.navigate(['/portal/meus-pagamentos']);\n  }\n\n  redidectToAccount() {\n    this.closeMenu();\n  }\n\n  closeMenu() {\n    this.menuService.changeMenu.emit(\"\");\n  }\n}\n","<div class=\"container first-container\">\n  <app-breadcrumb [steps]=\"steps\" class=\"steps-header\"></app-breadcrumb>\n</div>\n<div class=\"portal-header\">\n  <div class=\"container\">\n    <p class=\"title\">Meu Portal</p>\n  </div>\n\n  <div class=\"container\">\n    <div class=\"single-line\"> </div>\n  </div>\n\n  <div class=\"container\">\n    <card-component title=\"Minha Conta\" iconUrl=\"assets/img/icons/users-icon.svg\"\n      bodyText=\"Altere o cadastro, senha e cartões cadastrados\" buttonText=\"Editar\" warningHexColor=\"{{warningColor}}\"\n      warningMessage=\"{{warningText}}\" buttonUrl=\"{{SITEMOVIDA_URL}}usuario/dados-cadastrais\"></card-component>\n\n    <card-component title=\"Meus pedidos\" iconUrl=\"assets/img/icons/pedido-icon.svg\"\n      bodyText=\"Consulte seus pedidos realizados no Zero Km\" buttonText=\"Meus pedidos\" buttonUrl=\"/portal/meus-pedidos\">\n    </card-component>\n\n    <card-component title=\"Meus pagamentos\" iconUrl=\"assets/img/icons/pagamentos-icon.svg\"\n      bodyText=\"Consulte seu extrato de pagamentos Zero Km\" buttonText=\"Meus pagamentos\"\n      buttonUrl=\"/portal/meus-pagamentos\"></card-component>\n\n  </div>\n\n  <div class=\"container \">\n\n    <card-component  title=\"Multas\" iconUrl=\"assets/img/icons/multas-icon.svg\"\n      bodyText=\"Consulte o extrato das suas multas\" buttonText=\"Consultar multas\"\n      buttonUrl=\"/portal/multas\"></card-component>\n\n      <card-component  title=\"CRLV Digital\" iconUrl=\"assets/img/icons/multas-icon.svg\"\n      bodyText=\"Consulte e faça download do licenciamento do seu veículo por assinatura\" buttonText=\"Consultar Documentos\"\n      buttonUrl=\"/portal/crlv-digital\"></card-component>\n\n    <fidelidade-card-component title=\"Movida Fidelidade\" iconUrl=\"assets/img/icons/logo.svg\" currentPoints=\"{{points}}\"\n      expirePoints=\"{{expirePoints}}\" expireDate=\"{{expirePointsDate}}\" buttonText=\"Meu extrato\" [showLoading]=\"showLoading\"\n      buttonUrl=\"{{SITEMOVIDA_URL}}usuario/extratopontos\" >\n    </fidelidade-card-component>\n\n  </div>\n</div>\n","//modules\nimport { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\nimport { SharedModule } from 'src/app/shared/shared.module';\nimport { PortalRoutingModule } from './portal-routing.module';\n\n//components\nimport { PortalComponent } from './portal.component';\n\n@NgModule({\n  imports: [\n    PortalRoutingModule,\n    SharedModule,\n  ],\n  declarations: [\n    PortalComponent,\n  ],\n  schemas: [\n    CUSTOM_ELEMENTS_SCHEMA\n  ],\n})\nexport class PortalModule { }\n"],"sourceRoot":"webpack:///","file":"src_app_pages_portal_portal_module_ts.js"}